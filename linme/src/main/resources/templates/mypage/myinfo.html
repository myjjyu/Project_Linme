<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>린미 - 내 정보 관리</title>
    <link rel="stylesheet" type="text/css"  th:href="@{/assets/css/common.css}" />
    <link rel="stylesheet" type="text/css"  th:href="@{/assets/css/myPage/myinfo.css}" />
    <th:block th:replace="~{/fragments/header}" />
</head>
<div class="myinfoContainer">
    <h1>내 정보 관리</h1>
    <div class="infoCards">
        <a th:href="@{/myPage/myinfo/modify}" class="card">
            <h2>회원 정보 수정</h2>
            <p>Linme에 가입되어 있는 회원의 이름, 이메일, 휴대폰 등 개인정보를 관리합니다.</p>
            <img th:src="@{/assets/img/myPage/myinfo_update.jpg}">
        </a>
        <a th:href="@{/myPage/myinfo/passwordModify}" class="card">
            <h2>비밀번호 변경</h2>
            <p>Linme에 가입되어 있는 회원의 이름, 이메일, 휴대폰 등 개인정보를 관리합니다.</p>
            <img th:src="@{/assets/img/myPage/myinfo_edit.jpg}">
        </a>
        <a th:href="@{/myPage/myinfo/notification}" class="card">
            <h2>알림 설정</h2>
            <p>Linme에 가입되어 있는 회원의 이름, 이메일, 휴대폰 등 개인정보를 관리합니다.</p>
            <img th:src="@{/assets/img/myPage/myinfo_alarm.jpg}">
        </a>
        <a class="card" id="btn" >
            <h2>로그아웃</h2>
            <p>Linme에 가입되어 있는 회원의 이름, 이메일, 휴대폰 등 개인정보를 관리합니다.</p>
            <img th:src="@{/assets/img/myPage/myinfo_logout.jpg}">
        </a>
        <a th:href="@{/myPage/myinfo/withdrawal}" class="card">
            <h2>회원탈퇴</h2>
            <p>Linme에 가입되어 있는 회원의 이름, 이메일, 휴대폰 등 개인정보를 관리합니다.</p>
            <img th:src="@{/assets/img/myPage/myinfo_un.jpg}">
        </a>
    </div> 
</div>
<footer>
    <th:block th:replace="~{/fragments/footer}" />
</footer>
<script>
    document.querySelector(".footerContainer").style.margin = "0px";


    document.querySelector("#btn").addEventListener("click", async (e) => {
        e.preventDefault();
        
        try {
           
            const response = await axios.get("/api/member/logout");

            if (response.status === 200) {
                window.location= "/main/main";
            } else {
                alert("로그아웃 처리 중 문제가 발생했습니다. 다시 시도해주세요.");
            }
        } catch (error) {
            console.error("로그아웃 처리 중 오류 발생:", error);
            alert("로그아웃 처리 중 문제가 발생했습니다. 다시 시도해주세요.");
        }
    });
</script>
</body>
</html>